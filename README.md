# stack-external-worker
Deploy external workers pool for Cycloid.io

Version of `external_worker_image` is automatically generated by a curl on `scheduler_api_address`/api/v1/info

# Details


**Pipeline**

  * Run packer to build debian ECS image exposing telegraph metrics (port 9100 prometheus format).
  * Automatically get the Concourse image version to deploy from Concourse web api url `/api/v1/info`
  * Clean old builded AMI

**Terraform**

  * Create ECS cluster
  * Create Concourse task

**Ansible**

  * Playbook and packer config to build a debian ECS image with telegraf installed

